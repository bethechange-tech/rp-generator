<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Charging Receipt - {{receipt_number}}</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="receipt-container">
        <!-- Receipt Header -->
        <header class="receipt-header">
            <div class="logo">
                {{company_logo_svg}}
            </div>
            <div class="header-info">
                <h1>{{company_name}}</h1>
                <p class="tagline">{{company_tagline}}</p>
            </div>
            <div class="receipt-meta">
                <p><strong>Receipt #:</strong> {{receipt_number}}</p>
                <p><strong>Date:</strong> {{receipt_date}}</p>
                <p><strong>Time:</strong> {{session_start_time}} - {{session_end_time}}</p>
            </div>
        </header>

        <!-- Station Info -->
        <section class="station-section">
            <h2>Charging Station</h2>
            <div class="station-details">
                <div class="station-icon">
                    <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="5" y="8" width="30" height="34" rx="3" stroke="#374151" stroke-width="2" fill="none"/>
                        <rect x="10" y="14" width="20" height="12" rx="2" fill="#10b981"/>
                        <circle cx="20" cy="35" r="4" stroke="#374151" stroke-width="2" fill="none"/>
                        <path d="M35 20H40C42 20 44 22 44 24V38" stroke="#374151" stroke-width="2" stroke-linecap="round"/>
                        <rect x="40" y="38" width="8" height="6" rx="1" fill="#374151"/>
                    </svg>
                </div>
                <div class="station-info">
                    <h3>{{station_name}}</h3>
                    <p>{{station_address}}</p>
                    <span class="connector-type">{{connector_type}} • {{charger_power}}</span>
                </div>
            </div>
        </section>

        <!-- Session Details -->
        <section class="session-section">
            <h2>Charging Session</h2>
            <div class="session-grid">
                <div class="session-stat">
                    <div class="stat-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 2L4 14H11L10 22L20 10H13L13 2Z" fill="#f59e0b"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value">{{energy_delivered}}</span>
                        <span class="stat-unit">kWh</span>
                    </div>
                    <span class="stat-label">Energy Delivered</span>
                </div>
                <div class="session-stat">
                    <div class="stat-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="9" stroke="#2563eb" stroke-width="2" fill="none"/>
                            <path d="M12 6V12L16 14" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value">{{session_duration}}</span>
                        <span class="stat-unit">min</span>
                    </div>
                    <span class="stat-label">Duration</span>
                </div>
                <div class="session-stat">
                    <div class="stat-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="6" y="4" width="12" height="18" rx="2" stroke="#10b981" stroke-width="2" fill="none"/>
                            <rect x="8" y="7" width="8" height="10" fill="#10b981"/>
                            <rect x="9" y="2" width="6" height="2" fill="#10b981"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value">{{battery_start}}% → {{battery_end}}%</span>
                    </div>
                    <span class="stat-label">Battery Level</span>
                </div>
                <div class="session-stat">
                    <div class="stat-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15 8H21L16 12L18 20L12 15L6 20L8 12L3 8H9L12 2Z" fill="#8b5cf6"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-value">{{avg_charging_speed}}</span>
                        <span class="stat-unit">avg kW</span>
                    </div>
                    <span class="stat-label">Charging Speed</span>
                </div>
            </div>
        </section>

        <!-- Vehicle Info -->
        <section class="vehicle-section">
            <h2>Vehicle</h2>
            <div class="vehicle-details">
                <div class="vehicle-icon">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 24L8 16C8.5 14 10 12 13 12H27C30 12 31.5 14 32 16L34 24" stroke="#374151" stroke-width="2" stroke-linecap="round"/>
                        <rect x="4" y="24" width="32" height="10" rx="2" stroke="#374151" stroke-width="2" fill="none"/>
                        <circle cx="11" cy="34" r="3" stroke="#374151" stroke-width="2" fill="none"/>
                        <circle cx="29" cy="34" r="3" stroke="#374151" stroke-width="2" fill="none"/>
                        <rect x="12" y="14" width="8" height="5" rx="1" fill="#3b82f6"/>
                        <rect x="22" y="14" width="6" height="5" rx="1" fill="#3b82f6"/>
                    </svg>
                </div>
                <div class="vehicle-info">
                    <p class="vehicle-name">{{vehicle_make}} {{vehicle_model}}</p>
                    <p class="vehicle-id">VIN: {{vehicle_vin}}</p>
                </div>
            </div>
        </section>

        <!-- Cost Breakdown -->
        <section class="cost-section">
            <h2>Cost Breakdown</h2>
            <div class="cost-grid">
                <div class="cost-row">
                    <span>Energy ({{energy_delivered}} kWh × {{energy_rate}}/kWh)</span>
                    <span>{{energy_cost}}</span>
                </div>
                <div class="cost-row">
                    <span>Session Fee</span>
                    <span>{{session_fee}}</span>
                </div>
                <div class="cost-row">
                    <span>Idle Fee ({{idle_minutes}} min × {{idle_rate}}/min)</span>
                    <span>{{idle_fee}}</span>
                </div>
                <div class="cost-divider"></div>
                <div class="cost-row subtotal">
                    <span>Subtotal</span>
                    <span>{{subtotal}}</span>
                </div>
                <div class="cost-row">
                    <span>VAT ({{vat_rate}})</span>
                    <span>{{vat_amount}}</span>
                </div>
                <div class="cost-row discount">
                    <span>{{discount_label}} ({{discount_percent}})</span>
                    <span>-{{discount_amount}}</span>
                </div>
                <div class="cost-divider"></div>
                <div class="cost-row grand-total">
                    <span>Total</span>
                    <span>{{total_amount}}</span>
                </div>
            </div>
        </section>

        <!-- Payment Method -->
        <section class="payment-section">
            <h2>Payment</h2>
            <div class="payment-info">
                <div class="card-icon">
                    <svg width="40" height="28" viewBox="0 0 40 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="40" height="28" rx="4" fill="#1e3a5f"/>
                        <rect x="4" y="6" width="32" height="5" fill="#ffd700"/>
                        <rect x="4" y="16" width="20" height="2" rx="1" fill="#ffffff" opacity="0.5"/>
                        <rect x="4" y="21" width="12" height="2" rx="1" fill="#ffffff" opacity="0.5"/>
                    </svg>
                </div>
                <div class="card-details">
                    <p class="card-type">{{card_brand}} •••• {{card_last_four}}</p>
                </div>
                <div class="payment-status">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="9" cy="9" r="9" fill="#10b981"/>
                        <path d="M5 9L8 12L13 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>{{payment_status}}</span>
                </div>
            </div>
        </section>

        <!-- QR Code -->
        <section class="qr-section">
            <div class="qr-code">
                {{qr_code_svg}}
            </div>
            <p class="qr-label">Scan for digital receipt</p>
        </section>

        <!-- Footer -->
        <footer class="receipt-footer">
            <div class="footer-message">
                <p>Thank you for charging with {{company_name}}!</p>
            </div>
            <div class="footer-links">
                <p>{{support_email}} • {{support_phone}}</p>
                <p>{{company_website}}</p>
            </div>
            <div class="footer-legal">
                <p>Retain this receipt for your records.</p>
            </div>
            <div class="footer-brand">
                <svg width="20" height="20" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="30" cy="30" r="28" stroke="#94a3b8" stroke-width="2" fill="none"/>
                    <path d="M32 18L22 32H28L26 42L38 28H31L32 18Z" fill="#94a3b8"/>
                </svg>
                <span>Powered by {{company_name}}™</span>
            </div>
        </footer>
    </div>
</body>
</html>
